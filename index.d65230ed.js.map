{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-ae98388e9c05d30a.js","src/index.js","src/js/features/trending-search-main/trending-search.js","src/js/features/trending-search-main/fetch-images-url.js","node_modules/ultimate-pagination/src/ultimate-pagination.ts","node_modules/ultimate-pagination/src/ultimate-pagination-utils.ts","node_modules/ultimate-pagination/src/ultimate-pagination-item-factories.ts","node_modules/ultimate-pagination/src/ultimate-pagination-constants.ts","src/js/features/movie-search/search-by-keyword.js","src/js/features/movie-search/film_gallery_template.js","node_modules/@parcel/runtime-js/lib/runtime-cdeb50386ed77d4c.js","src/js/features/movie-search/search-refs.js","src/js/features/movie-search/advanced-search.js","src/js/components/modal/movie_modal.js","src/js/features/movie-search/search-by-year.js","src/js/features/movie-search/search-by-genre.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.d65230ed.js\\\",\\\"cYuBg\\\":\\\"desktop-empty-poster.c37d8ef5.jpg\\\",\\\"5UbS1\\\":\\\"index.05432eed.css\\\",\\\"7nwxg\\\":\\\"library.3c6f2e49.js\\\"}\"));","import './js/auth/authFireBase.js';\nimport './js/components/modal/openModalWindow.js';\nimport './js/features/trending-search-main/trending-search.js';\nimport './js/features/dark-mode';\nimport './js/components/modal/movie_modal';\nimport './js/features/scroll_to_top';\nimport './js/features/movie-search/search-by-keyword';\nimport './js/features/movie-search/search-by-year';\nimport './js/features/movie-search/search-by-genre';\nimport './js/features/movie-search/advanced-search';\nimport './js/components/modal/openModalWindow.js';\nimport './js/components/header/canvas-header.js';\n","import fetchPopularFilms from './fetch-movies';\nimport getImages from './fetch-images-url';\n\nimport ultimatePagination from 'ultimate-pagination';\nimport { userSearchObj } from '../movie-search/search-by-keyword';\nimport {\n  userAdvancedSearchForPagination,\n  makeAdvancedSearch,\n} from '../movie-search/advanced-search.js';\nimport { spinnerStart, spinnerStop } from '../loader';\nimport { refs } from '../../utils/refs';\nimport { searchRefs, tmdbAPI, scrollToTop } from '../movie-search/search-refs';\nimport makeHMTLString from '../movie-search/film_gallery_template';\nimport { TmdbAPI } from '../movie-search/search-refs';\n\nexport const tooglePagination = {\n  isTrendingFilmsShown: true,\n  isFilmsByQueryShown: false,\n  isFilmsByYearShown: false,\n  isFilmsByGenreShown: false,\n  isFilmsByAdvancedSearchShown: false,\n};\nexport const paginationSettings = {\n  currentPage: 0,\n  totalPages: 0,\n  boundaryPagesRange: 1,\n  siblingPagesRange: 2,\n  hideEllipsis: false,\n  hidePreviousAndNextPagebtns: false,\n  hideFirstAndLastPagebtns: true,\n};\n\nlet screen = window.matchMedia('(max-width: 767px)');\nsetPaginationSettings(screen.matches);\nscreen.addEventListener('change', onChange);\n\nconst cardList = document.querySelector('.trending-gallery');\n\nasync function createMarkup(data) {\n  try {\n    const imageBaseURL = await getImages();\n    const genreNames = TmdbAPI.genres;\n\n    const markup = data\n      .map(item => {\n        const textDesc =\n          item.overview.length < 340\n            ? item.overview\n            : `${item.overview.slice(0, 340)}...`;\n        let genres = '';\n        const genresNamesToRender = getGenreDeciphered(item, genreNames);\n\n        if (genresNamesToRender.length > 2) {\n          genres = `<a class='find-by-genre-js trending-gallery__genre-name'>${genresNamesToRender[0]}</a>, <a class='find-by-genre-js trending-gallery__genre-name'>${genresNamesToRender[1]}</a>, Other | `;\n        } else if (genresNamesToRender.length === 2) {\n          genres = `<a class='find-by-genre-js trending-gallery__genre-name'>${genresNamesToRender[0]}</a>, <a class='find-by-genre-js trending-gallery__genre-name'>${genresNamesToRender[1]}</a> | `;\n        } else if (genresNamesToRender.length === 1) {\n          genres = `<a class='find-by-genre-js trending-gallery__genre-name'>${genresNamesToRender}</a> | `;\n        } else {\n          genres = genresNamesToRender;\n        }\n        return `<li class=\"trending-gallery__item\" data-id=\"${item.id}\">\n\n                    <div>\n                        <img src=\"${imageBaseURL}${item.poster_path}\"\n                            class=\"trending-gallery__image\" data-id=\"${item.id}\"\n                            alt=\"The poster of ${\n                              item.title\n                            } film \" onerror=\"this.onerror=null;this.src='https://images.unsplash.com/photo-1616530940355-351fabd9524b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1935&q=80';\"\n                            />\n\n                    </div>\n                    <div class=\"trending-gallery__wrapper\">\n                        <h3 class=\"trending-gallery__title\" ><span class=\"title-modal-open\" data-id=\"${\n                          item.id\n                        }\">${item.title}</span>\n                        </h3>\n                              <p class=\"trending-gallery__info\">${genres}\n                              <span class=\"find-by-year-js\">${item.release_date.slice(\n                                0,\n                                4\n                              )}</span>\n                              </p>\n                    </div>\n                    <div class=\"trending-gallery__desc-wrap\">\n                    <h3 class=\"trending-gallery__title\" ><span class=\"title-modal-open\" data-id=\"${\n                      item.id\n                    }\">${item.title}</span>\n                        </h3>\n                        <p class=\"trending-gallery__info\">${genres}\n                              <span class=\"find-by-year-js\">${item.release_date.slice(\n                                0,\n                                4\n                              )}</span>\n                              </p>\n                        <p class=\"trending-gallery__desc\">${textDesc}</p>\n\n                        <button type=\"button\" class=\"trending-gallery__btn-more\">Read more</button>\n                    </div>\n\n                </li>`;\n      })\n      .join('');\n    return markup;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction getGenreDeciphered(filmObject, genresList) {\n  const genreArray = filmObject.genre_ids;\n  const genreNamesToRender = genreArray.map(item => {\n    return genresList[item];\n  });\n  return genreNamesToRender;\n}\n\nasync function renderPopularFilms(page) {\n  try {\n    cardList.innerHTML = '';\n    spinnerStart();\n    const films = await fetchPopularFilms(page);\n\n    const markup = await createMarkup(films.results);\n\n    cardList.innerHTML = markup;\n    if (films.total_pages > 500) {\n      paginationSettings.totalPages = 500;\n    } else {\n      paginationSettings.totalPages = films.total_pages;\n    }\n\n    // paginationSettings.totalPages = films.total_pages;\n    tooglePagination.isTrendingFilmsShown = true;\n\n    if (films) renderPaginationInterface(page, paginationSettings.totalPages);\n  } catch (error) {\n    console.dir(error);\n  } finally {\n    setTimeout(() => {\n      spinnerStop();\n    }, 1000);\n  }\n}\n\nrenderPopularFilms(1);\nexport default renderPopularFilms;\n\nexport function deletePaginationInterface() {\n  refs.paginationContainer.removeEventListener('click', onLoadAnotherPage);\n  refs.filmsPaginationContainer.innerHTML = '';\n}\n\nexport function renderPaginationInterface(currentPage, totalPages) {\n  refs.filmsPaginationContainer.innerHTML = createPaginationInterface(\n    currentPage,\n    totalPages\n  );\n  refs.paginationContainer = document.querySelector('.pagination__container');\n  refs.paginationContainer.addEventListener('click', onLoadAnotherPage);\n}\n\nfunction onChange() {\n  const { currentPage, totalPages } = paginationSettings;\n  setPaginationSettings(screen.matches);\n  renderPaginationInterface(currentPage, totalPages);\n}\n\nasync function onLoadAnotherPage(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  try {\n    deletePaginationInterface();\n    const clickedBtn = e.target;\n    const indexOfPageToLoad = Number(clickedBtn.dataset.value);\n\n    if (tooglePagination.isTrendingFilmsShown) {\n      await renderPopularFilms(indexOfPageToLoad);\n      scrollToTop();\n      spinnerStart();\n      return;\n    } else if (tooglePagination.isFilmsByQueryShown) {\n      tmdbAPI.page = indexOfPageToLoad;\n\n      const response = await tmdbAPI.fetchFilmsByQuery(\n        userSearchObj.userQueryForPagination\n      );\n      scrollToTop();\n      spinnerStart();\n      const { data } = response;\n\n      searchRefs.galleryEl.innerHTML = makeHMTLString(data);\n      renderPaginationInterface(tmdbAPI.page, paginationSettings.totalPages);\n      return;\n    } else if (tooglePagination.isFilmsByYearShown) {\n      tmdbAPI.page = indexOfPageToLoad;\n      const response = await tmdbAPI.fetchMoviesByYear(\n        userSearchObj.userYearForPagination\n      );\n      scrollToTop();\n      spinnerStart();\n      const { data } = response;\n\n      searchRefs.galleryEl.innerHTML = makeHMTLString(data);\n      renderPaginationInterface(tmdbAPI.page, paginationSettings.totalPages);\n      return;\n    } else if (tooglePagination.isFilmsByGenreShown) {\n      tmdbAPI.page = indexOfPageToLoad;\n      const response = await tmdbAPI.fetchMoviesByGenre(\n        userSearchObj.userGenreForPagination\n      );\n      scrollToTop();\n      spinnerStart();\n      const { data } = response;\n\n      searchRefs.galleryEl.innerHTML = makeHMTLString(data);\n      renderPaginationInterface(tmdbAPI.page, paginationSettings.totalPages);\n      return;\n    } else if (tooglePagination.isFilmsByAdvancedSearchShown) {\n      userAdvancedSearchForPagination.page = indexOfPageToLoad;\n      tmdbAPI.page = indexOfPageToLoad;\n\n      scrollToTop();\n      spinnerStart();\n      searchRefs.galleryEl.innerHTML = makeAdvancedSearch(\n        userAdvancedSearchForPagination\n      );\n      return;\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    setTimeout(spinnerStop, 500);\n  }\n}\n\nfunction createPaginationInterface(currentPage, totalPages) {\n  paginationSettings.currentPage = currentPage;\n  paginationSettings.totalPages = totalPages;\n\n  const pagination = ultimatePagination.getPaginationModel(paginationSettings);\n\n  const btnsMarkup = pagination.map(createBtn).join('');\n\n  return `<ul class=\"pagination__container\">${btnsMarkup}</ul>`;\n}\n\nfunction createBtn(btnType) {\n  const { type, value, isActive, key } = btnType;\n  let modifier;\n  switch (type) {\n    case 'PREVIOUS_PAGE_LINK':\n      modifier = '--prev';\n      return isActive\n        ? createIconBtnTemplate(modifier, value, 'disabled')\n        : createIconBtnTemplate(modifier, value);\n\n    case 'NEXT_PAGE_LINK':\n      modifier = '--next';\n      return isActive\n        ? createIconBtnTemplate(modifier, value, 'disabled')\n        : createIconBtnTemplate(modifier, value);\n\n    case 'ELLIPSIS':\n      modifier = '--ellipsis';\n      return createIconBtnTemplate(modifier, value);\n\n    case 'PAGE':\n      modifier = '--active';\n      return createDigitBtnTemplate(modifier, value, isActive, 'disabled');\n  }\n}\n\nfunction setMobilePaginationSettings() {\n  paginationSettings.boundaryPagesRange = 0;\n  paginationSettings.hideEllipsis = true;\n}\n\nfunction setStandartPaginationSettings() {\n  paginationSettings.boundaryPagesRange = 1;\n  paginationSettings.hideEllipsis = false;\n}\n\nfunction setPaginationSettings(isMobile) {\n  if (isMobile) {\n    setMobilePaginationSettings();\n  } else {\n    setStandartPaginationSettings();\n  }\n}\n\nfunction createIconBtnTemplate(modifier, value, disabled = '') {\n  return ` <li class=\"pagination__element\">\n          <button type=\"button\" class=\"pagination__btn pagination__btn${modifier}\" data-value=${value} ${disabled}></button>\n        </li>`;\n}\nfunction createDigitBtnTemplate(modifier, value, isActive, disabled) {\n  return isActive\n    ? ` <li class=\"pagination__element\">\n          <button type=\"button\" class=\"pagination__btn pagination__btn${modifier}\" data-value=${value} ${disabled}>${value}</button>\n        </li>`\n    : ` <li class=\"pagination__element\">\n       <button type=\"button\" class=\"pagination__btn\" data-value=${value}>${value}</button>\n     </li>`;\n}\n","import API_KEY from './api-key';\n\nasync function getImages() {\n  try {\n    const data = await fetch(\n      `https://api.themoviedb.org/3/configuration?api_key=${API_KEY}`\n    );\n    const parcedData = await data.json();\n    const { images } = parcedData;\n\n    const imageBaseURL = `${images.secure_base_url}${\n      images.profile_sizes[images.profile_sizes.length - 1]\n    }`;\n    return imageBaseURL;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport default getImages;\n","import {createRange} from './ultimate-pagination-utils';\nimport {\n  createPageFunctionFactory,\n  createFirstEllipsis,\n  createSecondEllipsis,\n  createFirstPageLink,\n  createPreviousPageLink,\n  createNextPageLink,\n  createLastPageLink,\n  PaginationModelItem\n} from './ultimate-pagination-item-factories';\n\nexport interface PaginationModelOptions {\n  currentPage: number;\n  totalPages: number;\n  boundaryPagesRange?: number;\n  siblingPagesRange?: number;\n  hideEllipsis?: boolean;\n  hidePreviousAndNextPageLinks?: boolean;\n  hideFirstAndLastPageLinks?: boolean;\n}\n\nexport {PaginationModelItem};\n\nexport type PaginationModel = PaginationModelItem[];\n\nexport function getPaginationModel(options: PaginationModelOptions): PaginationModel {\n  if (options == null) { throw new Error('getPaginationModel(): options object should be a passed'); }\n\n  const totalPages = Number(options.totalPages);\n  if (isNaN(totalPages)) { throw new Error('getPaginationModel(): totalPages should be a number'); }\n  if (totalPages < 0) { throw new Error('getPaginationModel(): totalPages shouldn\\'t be a negative number'); }\n\n  const currentPage = Number(options.currentPage);\n  if (isNaN(currentPage)) { throw new Error('getPaginationModel(): currentPage should be a number'); }\n  if (currentPage < 0) { throw new Error('getPaginationModel(): currentPage shouldn\\'t be a negative number'); }\n  if (currentPage > totalPages) { throw new Error('getPaginationModel(): currentPage shouldn\\'t be greater than totalPages'); }\n\n  const boundaryPagesRange = (options.boundaryPagesRange == null ? 1 : Number(options.boundaryPagesRange));\n  if (isNaN(boundaryPagesRange)) { throw new Error('getPaginationModel(): boundaryPagesRange should be a number'); }\n  if (boundaryPagesRange < 0) { throw new Error('getPaginationModel(): boundaryPagesRange shouldn\\'t be a negative number'); }\n\n  const siblingPagesRange = (options.siblingPagesRange == null ? 1 : Number(options.siblingPagesRange));\n  if (isNaN(siblingPagesRange)) { throw new Error('getPaginationModel(): siblingPagesRange should be a number'); }\n  if (siblingPagesRange < 0) { throw new Error('getPaginationModel(): siblingPagesRange shouldn\\'t be a negative number'); }\n\n  const hidePreviousAndNextPageLinks = Boolean(options.hidePreviousAndNextPageLinks);\n  const hideFirstAndLastPageLinks = Boolean(options.hideFirstAndLastPageLinks);\n  const hideEllipsis = Boolean(options.hideEllipsis);\n\n  const ellipsisSize = (hideEllipsis ? 0 : 1);\n  const paginationModel: PaginationModelItem[] = [];\n  const createPage = createPageFunctionFactory(options);\n\n  if (!hideFirstAndLastPageLinks) {\n    paginationModel.push(createFirstPageLink(options));\n  }\n\n  if (!hidePreviousAndNextPageLinks) {\n    paginationModel.push(createPreviousPageLink(options));\n  }\n\n  // Simplify generation of pages if number of available items is equal or greater than total pages to show\n  if (1 + 2 * ellipsisSize + 2 * siblingPagesRange + 2 * boundaryPagesRange >= totalPages) {\n    const allPages = createRange(1,  totalPages).map(createPage);\n    paginationModel.push(...allPages);\n  } else {\n    // Calculate group of first pages\n    const firstPagesStart = 1;\n    const firstPagesEnd = boundaryPagesRange;\n    const firstPages = createRange(firstPagesStart,  firstPagesEnd).map(createPage);\n\n    // Calculate group of last pages\n    const lastPagesStart = totalPages + 1 - boundaryPagesRange;\n    const lastPagesEnd = totalPages;\n    const lastPages = createRange(lastPagesStart, lastPagesEnd).map(createPage);\n\n    // Calculate group of main pages\n    const mainPagesStart = Math.min(\n      Math.max(\n        currentPage - siblingPagesRange,\n        firstPagesEnd + ellipsisSize + 1\n      ),\n      lastPagesStart - ellipsisSize - 2 * siblingPagesRange - 1\n    );\n    const mainPagesEnd = mainPagesStart + 2 * siblingPagesRange;\n    const mainPages = createRange(mainPagesStart,  mainPagesEnd).map(createPage);\n\n    // Add group of first pages\n    paginationModel.push(...firstPages);\n\n    if (!hideEllipsis) {\n      // Calculate and add ellipsis before group of main pages\n      const firstEllipsisPageNumber = mainPagesStart - 1;\n      const showPageInsteadOfFirstEllipsis = (firstEllipsisPageNumber === firstPagesEnd + 1);\n      const createFirstEllipsisOrPage = showPageInsteadOfFirstEllipsis ? createPage : createFirstEllipsis;\n      const firstEllipsis = createFirstEllipsisOrPage(firstEllipsisPageNumber);\n      paginationModel.push(firstEllipsis);\n    }\n\n    // Add group of main pages\n    paginationModel.push(...mainPages);\n\n    if (!hideEllipsis) {\n      // Calculate and add ellipsis after group of main pages\n      const secondEllipsisPageNumber = mainPagesEnd + 1;\n      const showPageInsteadOfSecondEllipsis = (secondEllipsisPageNumber === lastPagesStart - 1);\n      const createSecondEllipsisOrPage = showPageInsteadOfSecondEllipsis ? createPage : createSecondEllipsis;\n      const secondEllipsis = createSecondEllipsisOrPage(secondEllipsisPageNumber);\n      paginationModel.push(secondEllipsis);\n    }\n\n    // Add group of last pages\n    paginationModel.push(...lastPages);\n  }\n\n  if (!hidePreviousAndNextPageLinks) {\n    paginationModel.push(createNextPageLink(options));\n  }\n\n  if (!hideFirstAndLastPageLinks) {\n    paginationModel.push(createLastPageLink(options));\n  }\n\n  return paginationModel;\n}\n\nexport {ITEM_TYPES, ITEM_KEYS, PaginationItemType} from './ultimate-pagination-constants';\n","export function createRange(start: number, end: number): number[] {\n  let range: number[] = [];\n  for (let i = start; i <= end; i++) {\n    range.push(i);\n  }\n  return range;\n}\n","import {ITEM_TYPES, ITEM_KEYS, PaginationItemType} from './ultimate-pagination-constants';\nimport {PaginationModelOptions} from './ultimate-pagination';\n\nexport interface PaginationModelItem {\n    key: number;\n    value: number;\n    isActive: boolean;\n    type: PaginationItemType;\n}\n\nexport const createFirstEllipsis = (pageNumber: number): PaginationModelItem => {\n  return {\n    type: ITEM_TYPES.ELLIPSIS,\n    key: ITEM_KEYS.FIRST_ELLIPSIS,\n    value: pageNumber,\n    isActive: false\n  };\n};\n\nexport const createSecondEllipsis = (pageNumber: number): PaginationModelItem => {\n  return {\n    type: ITEM_TYPES.ELLIPSIS,\n    key: ITEM_KEYS.SECOND_ELLIPSIS,\n    value: pageNumber,\n    isActive: false\n  };\n};\n\nexport const createFirstPageLink = (options: PaginationModelOptions): PaginationModelItem => {\n  let {currentPage} = options;\n\n  return {\n    type: ITEM_TYPES.FIRST_PAGE_LINK,\n    key: ITEM_KEYS.FIRST_PAGE_LINK,\n    value: 1,\n    isActive: currentPage === 1\n  };\n};\n\nexport const createPreviousPageLink = (options: PaginationModelOptions): PaginationModelItem => {\n  let {currentPage} = options;\n\n  return {\n    type: ITEM_TYPES.PREVIOUS_PAGE_LINK,\n    key: ITEM_KEYS.PREVIOUS_PAGE_LINK,\n    value: Math.max(1, currentPage - 1),\n    isActive: currentPage === 1\n   };\n};\n\nexport const createNextPageLink = (options: PaginationModelOptions): PaginationModelItem => {\n  let {currentPage, totalPages} = options;\n\n  return {\n    type: ITEM_TYPES.NEXT_PAGE_LINK,\n    key: ITEM_KEYS.NEXT_PAGE_LINK,\n    value: Math.min(totalPages, currentPage + 1),\n    isActive: currentPage === totalPages\n  };\n};\n\nexport const createLastPageLink = (options: PaginationModelOptions): PaginationModelItem => {\n  let {currentPage, totalPages} = options;\n\n  return {\n    type: ITEM_TYPES.LAST_PAGE_LINK,\n    key: ITEM_KEYS.LAST_PAGE_LINK,\n    value: totalPages,\n    isActive: currentPage === totalPages\n   };\n};\n\nexport const createPageFunctionFactory = (options: PaginationModelOptions) => {\n  let {currentPage} = options;\n\n  return (pageNumber: number): PaginationModelItem => {\n    return {\n      type: ITEM_TYPES.PAGE,\n      key: pageNumber,\n      value: pageNumber,\n      isActive: pageNumber === currentPage\n    };\n  };\n};\n","export type PageItemType = 'PAGE';\nexport type EllipsisItemType = 'ELLIPSIS';\nexport type FirstPageLinkItemType = 'FIRST_PAGE_LINK';\nexport type PreviousPageLinkItemType = 'PREVIOUS_PAGE_LINK';\nexport type NextPageLinkItemType = 'NEXT_PAGE_LINK';\nexport type LastPageLinkItemType = 'LAST_PAGE_LINK';\n\nexport type PaginationItemType =\n  PageItemType |\n  EllipsisItemType |\n  FirstPageLinkItemType |\n  PreviousPageLinkItemType |\n  NextPageLinkItemType |\n  LastPageLinkItemType;\n\nexport interface ItemTypes {\n    PAGE: PageItemType;\n    ELLIPSIS: EllipsisItemType;\n    FIRST_PAGE_LINK: FirstPageLinkItemType;\n    PREVIOUS_PAGE_LINK: PreviousPageLinkItemType;\n    NEXT_PAGE_LINK: NextPageLinkItemType;\n    LAST_PAGE_LINK: LastPageLinkItemType;\n}\n\nexport interface ItemKeys {\n    FIRST_ELLIPSIS: number;\n    SECOND_ELLIPSIS: number;\n    FIRST_PAGE_LINK: number;\n    PREVIOUS_PAGE_LINK: number;\n    NEXT_PAGE_LINK: number;\n    LAST_PAGE_LINK: number;\n\n    [type: string]: number;\n}\n\nexport const ITEM_TYPES: ItemTypes = {\n  PAGE: 'PAGE',\n  ELLIPSIS: 'ELLIPSIS',\n  FIRST_PAGE_LINK: 'FIRST_PAGE_LINK',\n  PREVIOUS_PAGE_LINK: 'PREVIOUS_PAGE_LINK',\n  NEXT_PAGE_LINK: 'NEXT_PAGE_LINK',\n  LAST_PAGE_LINK: 'LAST_PAGE_LINK'\n};\n\nexport const ITEM_KEYS: ItemKeys = {\n  FIRST_ELLIPSIS: -1,\n  SECOND_ELLIPSIS: -2,\n  FIRST_PAGE_LINK: -3,\n  PREVIOUS_PAGE_LINK: -4,\n  NEXT_PAGE_LINK: -5,\n  LAST_PAGE_LINK: -6\n};\n\n","import makeHMTLString from './film_gallery_template';\nimport {\n  searchRefs,\n  tmdbAPI,\n  TmdbAPI,\n  emptyStingRegEx,\n  Notify,\n  scrollToTop,\n} from './search-refs';\n\nimport {\n  renderPaginationInterface,\n  paginationSettings,\n  deletePaginationInterface,\n  tooglePagination,\n} from '../trending-search-main/trending-search.js';\n\nimport renderPopularFilms from '../trending-search-main/trending-search';\nimport { onResetAdvancedSearch } from './advanced-search.js';\n\nwindow.onResetAdvancedSearch = () => {\n  onResetAdvancedSearch();\n};\nexport const userSearchObj = {\n  userQueryForPagination: '',\n  userYearForPagination: '',\n  userGenreForPagination: '',\n};\n\n// export let userQueryForPagination = '';\nsearchRefs.searchForm.addEventListener('submit', onSearchInputElChange);\n\nasync function onSearchInputElChange(event) {\n  event.preventDefault();\n  deletePaginationInterface();\n  searchRefs.advancedSearchChosenWindowEl.classList.add('visually-hidden');\n  const query = searchRefs.searchInputEl.value;\n  userSearchObj.userQueryForPagination = query;\n\n  searchRefs.searchInputEl.value = '';\n  //if input is an empty string - return\n  if (emptyStingRegEx.test(query)) return;\n  try {\n    tmdbAPI.page = 1;\n    const response = await tmdbAPI.fetchFilmsByQuery(query);\n    const { data } = response;\n\n    //if nothing found by entered keyword - show trending\n    if (data.total_results === 0) {\n      Notify.failure(\n        'Search result not successful. Enter the correct movie name and try again!'\n      );\n      renderPopularFilms(1);\n      return;\n    }\n    scrollToTop();\n\n    //showing search parameters window\n    searchRefs.advancedSearchChosenWindowEl.classList.remove('visually-hidden');\n    searchRefs.advancedSearchChosenEl.innerHTML = `<div class='advanced-search__chosen-option'>\n    <span class='advanced-search__search-key'>search word: </span>${query}\n     <button class=\"advanced-search__reset advanced-search__key-reset\" type=\"button\" onclick='onResetAdvancedSearch()'>Reset</button>\n     </div>`;\n    //inserting images into gallery\n    searchRefs.galleryEl.innerHTML = makeHMTLString(data);\n    tooglePagination.isTrendingFilmsShown = false;\n    tooglePagination.isFilmsByGenreShown = false;\n    tooglePagination.isFilmsByYearShown = false;\n    tooglePagination.isFilmsByAdvancedSearchShown = false;\n    tooglePagination.isFilmsByQueryShown = true;\n    paginationSettings.totalPages = data.total_pages;\n    renderPaginationInterface(tmdbAPI.page, paginationSettings.totalPages);\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import TmdbAPI from '../../api/TMDB_API';\nimport emptyphoto from '../../../images/empty-photo/desktop-empty-poster.jpg';\n\n//converts string with genre names to HTML string with tags\nfunction getGenresHTMLString(str) {\n  if (!str || str === '') {\n    return `<a>Other</a>`;\n  }\n  const indexOfOther = str.toLowerCase().indexOf('other');\n  let spliced = '';\n  if (indexOfOther !== -1) {\n    str = str.slice(0, indexOfOther);\n    spliced = 'Other';\n  }\n  return (\n    str\n      .split(',')\n      .map(el => {\n        return `<a class='find-by-genre-js trending-gallery__genre-name'>${el}</a>`;\n      })\n      .join(', ') + spliced\n  );\n}\n\nfunction addAdaptiveImgHTMLString(result) {\n  // // ----------\n  let poster = result.poster_path;\n  poster = result.poster_path;\n\n  if (poster && poster !== '') {\n    poster = result.poster_path;\n  } else {\n    return `<picture>\n  \t<img src=\"${emptyphoto}\" alt=\"The poster of ${result.title} film\" class=\"trending-gallery__image\" loading=\"lazy\" data-id=\"${result.id}\"/>\n\t</picture>`;\n  }\n  //     // ----------\n\n  return `\n\t<picture>\n\t\t<source srcset=\"${TmdbAPI.IMG_BASE_URL}/w185${result.poster_path} 185w, ${TmdbAPI.IMG_BASE_URL}/w342${result.poster_path} 342w, ${TmdbAPI.IMG_BASE_URL}/w500${result.poster_path} 500w\" media=\"(max-width: 767px)\" sizes=\"280px\">\n\t\t<source srcset=\"${TmdbAPI.IMG_BASE_URL}/w342${result.poster_path} 342w, ${TmdbAPI.IMG_BASE_URL}/w500${result.poster_path} 500w\" media=\"(min-width: 768px)\" sizes=\"336px\">\n\t\t<source srcset=\"${TmdbAPI.IMG_BASE_URL}/w500${result.poster_path} 500w, ${TmdbAPI.IMG_BASE_URL}/w780${result.poster_path} 780w\" media=\"(min-width: 1280px)\" sizes=\"395px\">\n\n  \t<img src=\"${TmdbAPI.IMG_BASE_URL}/original${result.poster_path}\" alt=\"The poster of ${result.title} film\" class=\"trending-gallery__image\" loading=\"lazy\" data-id=\"${result.id}\"/>\n\t</picture>`;\n}\n\nexport default function makeHMTLString({ results }) {\n  return results\n    .map(result => {\n      const textDesc =\n        result.overview.length < 340\n          ? result.overview\n          : `${result.overview.slice(0, 340)}...`;\n      const genres = getGenresHTMLString(\n        TmdbAPI.getGenresString(result.genre_ids)\n      );\n      //checking release date: if none - return 'No info', else return year\n      if (!result.release_date || result.release_date === '') {\n        result.release_date = 'No info';\n      } else {\n        result.release_date = result.release_date.slice(0, 4);\n      }\n      return `\n\t<li class='trending-gallery__item' data-id=${result.id}>\n    ${addAdaptiveImgHTMLString(result)}\n    <div class=\"trending-gallery__wrapper\">\n    \t<h3 class='trending-gallery__title' ><span  class=\"title-modal-open\" data-id=${\n        result.id\n      }>${result.title}</span>\n\t\t\t</h3>\n    \t<p class='trending-gallery__info'>${getGenresHTMLString(\n        TmdbAPI.getGenresString(result.genre_ids)\n      )} | <span class='find-by-year-js'>${result.release_date}</span></p>\n    </div>\n    <div class=\"trending-gallery__desc-wrap\">\n                    <h3 class=\"trending-gallery__title\" ><span class=\"title-modal-open\" data-id=\"${\n                      result.id\n                    }\">${result.title}</span>\n                        </h3>\n                        <p class=\"trending-gallery__info\">${genres}\n                              <span class=\"find-by-year-js\">${result.release_date.slice(\n                                0,\n                                4\n                              )}</span>\n                              </p>\n                        <p class=\"trending-gallery__desc\">${textDesc}</p>\n\n                        <button type=\"button\" class=\"trending-gallery__btn-more\">Read more</button>\n                    </div>\n  </li>\n\t`;\n    })\n    .join('');\n}\n\nexport function makeHMTLStringWithGenre({ results }, genre) {\n  return results\n    .map(result => {\n      //checking release date: if none - return 'No info', else return year\n      if (!result.release_date || result.release_date === '') {\n        result.release_date = 'No info';\n      } else {\n        result.release_date = result.release_date.slice(0, 4);\n      }\n      const textDesc =\n        result.overview.length < 340\n          ? result.overview\n          : `${result.overview.slice(0, 340)}...`;\n      const genres = getGenresHTMLString(\n        TmdbAPI.getGenresStringWithSearchedGenre(result.genre_ids, genre)\n      );\n      return `\n\t<li class='trending-gallery__item'  data-id=\"${result.id}\">\n    ${addAdaptiveImgHTMLString(result)}\n    <div class=\"trending-gallery__wrapper\">\n    \t<h3 class='trending-gallery__title'><span class=\"title-modal-open\">${\n        result.title\n      }</span></h3>\n    \t<p class='trending-gallery__info'>${genres} | <span class='find-by-year-js'>${result.release_date.slice(\n        0,\n        4\n      )}</span></p>\n    </div>\n    <div class=\"trending-gallery__desc-wrap\">\n                    <h3 class=\"trending-gallery__title\" ><span class=\"title-modal-open\" data-id=\"${\n                      result.id\n                    }\">${result.title}</span>\n                        </h3>\n                        <p class=\"trending-gallery__info\">${genres}\n                              <span class=\"find-by-year-js\">${result.release_date.slice(\n                                0,\n                                4\n                              )}</span>\n                              </p>\n                        <p class=\"trending-gallery__desc\">${textDesc}</p>\n\n                        <button type=\"button\" class=\"trending-gallery__btn-more\">Read more</button>\n                    </div>\n  </li>\n\t`;\n    })\n    .join('');\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"cYuBg\");","import { Notify } from 'notiflix';\nimport TmdbAPI from '../../api/TMDB_API';\n\nconst emptyStingRegEx = /^\\s*$/; // regular expression of an empty string\nconst tmdbAPI = new TmdbAPI();\ntmdbAPI.fetchGenres();\n\nconst searchRefs = {\n  galleryEl: document.querySelector('.trending-gallery'),\n  searchInputEl: document.querySelector('.search__input'),\n  searchForm: document.querySelector('.search'),\n  showAdvancedSearchEl: document.querySelector('.show-advanced-search-js'),\n  hideAdvancedSearchEl: document.querySelector('.hide-advanced-search-js'),\n  advancedSearchEl: document.querySelector('.search--advanced-js '),\n  advancedSearchWrap: document.querySelector('.search--advanced-js div '),\n  advancedSearchChosenWindowEl: document.querySelector(\n    '.advanced-search__chosen-window'\n  ),\n  advancedSearchChosenEl: document.querySelector('.advanced-search__chosen'),\n  resetAdvancedSearchBtn: document.querySelector('.advanced-search__reset'),\n  advacedSearchSubmitBtn: document.querySelector('.advanced-search__submit'),\n  advacedSearchYearInput: document.querySelector('.advanced-search__year'),\n};\n\n//scroll to the top of the page\nfunction scrollToTop() {\n  window.scroll({\n    top: 0,\n    left: 0,\n    behavior: 'smooth',\n  });\n}\n\nexport { searchRefs, tmdbAPI, TmdbAPI, scrollToTop, emptyStingRegEx, Notify };\n","import makeHMTLString from './film_gallery_template';\nimport {\n  searchRefs,\n  tmdbAPI,\n  TmdbAPI,\n  scrollToTop,\n  emptyStingRegEx,\n  Notify,\n} from './search-refs';\n\nimport renderPopularFilms, {\n  renderPaginationInterface,\n  paginationSettings,\n  deletePaginationInterface,\n  tooglePagination,\n} from '../trending-search-main/trending-search.js';\nimport { canvasAnimation } from '../../components/header/canvas-header.js';\n\nexport let userAdvancedSearchForPagination = {\n  primary_release_year: '',\n  with_genres: '',\n  sort_by: '',\n  page: '',\n  with_watch_monetization_types: '',\n  without_genres: '',\n};\nlet areOptionsGenerated = false;\n\nsearchRefs.searchForm.addEventListener('click', showAdvancedSearch);\nsearchRefs.searchForm.addEventListener('click', hideAdvancedSearch);\nsearchRefs.advancedSearchEl.addEventListener(\n  'submit',\n  onAdvancedSearchElSubmit\n);\nsearchRefs.resetAdvancedSearchBtn.addEventListener(\n  'click',\n  onResetAdvancedSearch\n);\n\nexport function showAdvancedSearch(event) {\n  if (!event.target.classList.value.includes('show-advanced-search-js')) return;\n  toggleAdvacedSearchMenu();\n}\n\nexport function toggleAdvacedSearchMenu() {\n  setTimeout(() => toggleAdvancedSearch(), 100);\n  if (areOptionsGenerated) return;\n  generateSelectOptions(searchRefs.advancedSearchWrap);\n}\nexport function showAdvacedSearchMenu() {\n  setTimeout(() => {\n    searchRefs.advancedSearchEl.classList.remove('visually');\n    searchRefs.showAdvancedSearchEl.parentNode.classList.add('visually-hidden');\n    searchRefs.hideAdvancedSearchEl.parentNode.classList.remove(\n      'visually-hidden'\n    );\n  }, 100);\n\n  if (areOptionsGenerated) return;\n  generateSelectOptions(searchRefs.advancedSearchWrap);\n}\n\nfunction hideAdvancedSearch(event) {\n  if (!event.target.classList.value.includes('hide-advanced-search-js')) return;\n  toggleAdvancedSearch();\n}\n\nexport function toggleAdvancedSearch() {\n  searchRefs.advancedSearchEl.classList.toggle('visually');\n  searchRefs.showAdvancedSearchEl.parentNode.classList.toggle(\n    'visually-hidden'\n  );\n  searchRefs.hideAdvancedSearchEl.parentNode.classList.toggle(\n    'visually-hidden'\n  );\n}\n\nfunction generateSelectOptions(form) {\n  const genreOptionsHtmlStr = Object.values(TmdbAPI.genres)\n    .map(\n      genre =>\n        `<option value=\"${genre}\" class=\"advanced-search__option\">${genre}</option>`\n    )\n    .join('');\n  const selectGenreHtmlStr = `\n\t\t<select name=\"genre\"  class=\"advanced-search__genre advanced-search__select\">\n\t\t\t<option value=\"\" class=\"advanced-search__option--main\">Choose genre to find</option>\n\t\t\t${genreOptionsHtmlStr}\n\t\t</select>`;\n  //forming exlude genre select HTML\n  const excludeGenreHtmlStr = `\n\t\t<select name=\"excludeGenre\"\n\t\t\tclass=\"advanced-search__exlude-genre advanced-search__select\">\n\t\t\t<option value=\"\" class=\"advanced-search__option--main\">Choose genre to exlude</option>\n\t\t\t${genreOptionsHtmlStr}\n\t\t</select>`;\n  //forming sort parameters select HTML\n  const sortParamsStr = `\n\t\t<select name=\"sortParams\" \t\tclass=\"advanced-search__sort-buy advanced-search__select\">\n\t\t\t<option value=\"\" class=\"advanced-search__option--main\">Choose sorting parameter</option>\n\t\t\t${Object.keys(TmdbAPI.sort_by_types)\n        .map(\n          typeKey =>\n            `<option value=\"${typeKey}\" class=\"advanced-search__option\">${TmdbAPI.sort_by_types[typeKey]}</option>`\n        )\n        .join('')}\n\t\t</select>`;\n  form.insertAdjacentHTML(\n    'afterbegin',\n    selectGenreHtmlStr + excludeGenreHtmlStr + sortParamsStr\n  );\n  areOptionsGenerated = true;\n}\n\nfunction chosenAdvSearchParamsString(optionsObj) {\n  return Object.keys(optionsObj).reduce((acc, key) => {\n    if (!optionsObj[key] || optionsObj[key] === '' || key === 'page')\n      return acc;\n    if (key === 'with_genres' || key === 'without_genres') {\n      return (\n        acc +\n        `<div class='advanced-search__chosen-option'><span class='advanced-search__search-key'>${key\n          .split('_')\n          .join(' ')}: </span>${TmdbAPI.genres[optionsObj[key]]}</div>`\n      );\n    }\n    return (\n      acc +\n      `<div class='advanced-search__chosen-option'><span class='advanced-search__search-key'>${key\n        .split('_')\n        .join(' ')}: </span>${optionsObj[key]}</div>`\n    );\n  }, '');\n}\n\nexport function makeAdvancedSearch(optionsObj) {\n  tmdbAPI\n    .fetchAdvancedMovieSearch(optionsObj)\n    .then(response => {\n      const { data } = response;\n\n      scrollToTop();\n      searchRefs.galleryEl.innerHTML = makeHMTLString(response.data);\n      tooglePagination.isTrendingFilmsShown = false;\n      tooglePagination.isFilmsByQueryShown = false;\n      tooglePagination.isFilmsByAdvancedSearchShown = true;\n      tooglePagination.isFilmsByYearShown = false;\n      tooglePagination.isFilmsByGenreShown = false;\n      if (data.total_pages > 500) {\n        paginationSettings.totalPages = 500;\n      } else {\n        paginationSettings.totalPages = data.total_pages;\n      }\n      renderPaginationInterface(tmdbAPI.page, paginationSettings.totalPages);\n    })\n    .catch(console.error);\n}\n\nfunction clearAdvancedSearchForm() {\n  searchRefs.advancedSearchEl.reset();\n}\n\nfunction changeAdvSearchWindow(obj) {\n  searchRefs.advancedSearchChosenWindowEl.classList.remove('visually-hidden');\n  searchRefs.advancedSearchChosenEl.innerHTML = `${chosenAdvSearchParamsString(\n    obj\n  )}`;\n}\n\nfunction hideAdvSearchWindow() {\n  searchRefs.advancedSearchChosenWindowEl.classList.add('visually-hidden');\n  searchRefs.advancedSearchChosenEl.innerHTML = ``;\n}\n\n//callback function for event listener on button submit - when the advanced search form is submitted and on reset\nfunction onAdvancedSearchElSubmit(event) {\n  event.preventDefault();\n  //forming advanced search object\n  const optionsObj = {\n    with_genres: TmdbAPI.genreIDs[searchRefs.advancedSearchEl.genre.value],\n    without_genres:\n      TmdbAPI.genreIDs[searchRefs.advancedSearchEl.excludeGenre.value],\n    sort_by:\n      TmdbAPI.sort_by_types[searchRefs.advancedSearchEl.sortParams.value],\n    with_watch_monetization_types:\n      TmdbAPI.watch_monetization_types[\n        searchRefs.advancedSearchEl.monetization.value\n      ],\n  };\n\n  //check if nothing chosen\n  if (!isOptionsObjHasValues(optionsObj)) {\n    Notify.failure('Choose some parameters!');\n\n    return;\n  }\n  tmdbAPI.page = 1;\n\n  tooglePagination.isFilmsByYearShown = true;\n  //checking search year input\n  let searchYear = searchRefs.advancedSearchEl.year.value;\n\n  if (!checkYear(searchYear)) {\n    // searchYear = new Date().getFullYear();\n    Notify.failure('The year chosen is ineligible!');\n    clearAdvancedSearchForm();\n    return;\n  }\n\n  optionsObj.primary_release_year = searchYear;\n\n  let isTheSameSettings = true;\n  Object.keys(optionsObj).forEach(key => {\n    if (optionsObj[key] !== userAdvancedSearchForPagination[key])\n      isTheSameSettings = false;\n  });\n\n  //checking if included and excluded genre are not equal\n  if (\n    optionsObj.with_genres === optionsObj.without_genres &&\n    optionsObj.with_genres !== undefined &&\n    optionsObj.without_genres !== undefined\n  ) {\n    Notify.failure(\"You can't choose and exclude the same genre!\");\n    clearAdvancedSearchForm();\n    return;\n  }\n\n  if (isTheSameSettings) {\n    Notify.warning('Please,make changes in search params and try again');\n    clearAdvancedSearchForm();\n    // renderPopularFilms(1);\n    return;\n  }\n\n  optionsObj.page = tmdbAPI.page;\n  userAdvancedSearchForPagination.with_genres = optionsObj.with_genres;\n  userAdvancedSearchForPagination.without_genres = optionsObj.without_genres;\n  userAdvancedSearchForPagination.sort_by = optionsObj.sort_by;\n  userAdvancedSearchForPagination.primary_release_year =\n    optionsObj.primary_release_year;\n  userAdvancedSearchForPagination.with_watch_monetization_types =\n    optionsObj.with_watch_monetization_types;\n\n  userAdvancedSearchForPagination.page = optionsObj.page;\n\n  deletePaginationInterface();\n  clearAdvancedSearchForm();\n  Notify.info('Searching');\n  changeAdvSearchWindow(userAdvancedSearchForPagination);\n  makeAdvancedSearch(optionsObj);\n}\n\nexport async function onResetAdvancedSearch() {\n  clearAdvancedSearchForm();\n  tooglePagination.isFilmsByYearShown = false;\n  tooglePagination.isFilmsByGenreShown = false;\n  tooglePagination.isFilmsByQueryShown = false;\n  tooglePagination.isFilmsByAdvancedSearchShown = false;\n  tooglePagination.isTrendingFilmsShown = true;\n  searchRefs.advancedSearchChosenWindowEl.classList.add('visually-hidden');\n  await renderPopularFilms(1);\n}\n\nfunction checkYear(searchYear) {\n  if (searchYear === '') return true;\n  searchYear = Number.parseInt(searchYear);\n  if (\n    searchYear &&\n    searchYear > 1880 &&\n    searchYear <= new Date().getFullYear()\n  ) {\n    return true;\n  }\n  return false;\n}\n\nfunction isOptionsObjHasValues(optionsObj) {\n  let result = false;\n  //if film year entered - object has values\n  if (searchRefs.advancedSearchEl.year.value !== '') return true;\n  Object.values(optionsObj).forEach(value => {\n    if (value !== undefined && !emptyStingRegEx.test(value)) {\n      result = true;\n    }\n  });\n  return result;\n}\n","import {\n  auth,\n  writeUserDataQueue,\n  writeUserDataWatch,\n  currentFilmList,\n  readAllUserData,\n} from '../../auth/authFireBase.js';\nimport { refs } from '../../utils/refs';\nimport Notiflix from 'notiflix';\nimport { renderModal } from './render_modal';\nimport { onTrailerBtnClick } from '../../features/trailer';\n\nconst { allCardsSection, modal, overflow, closeBtn, innerModal, body } = refs;\nlet queue;\nlet watched;\nasync function updateVar() {\n  if (auth.currentUser === null) {\n    queue = [];\n    watched = [];\n  } else {\n    const q = await readAllUserData(auth.currentUser.uid);\n    const w = await readAllUserData(auth.currentUser.uid);\n    queue = q.userDataQueue || [];\n    watched = w.userDataWatch || [];\n  }\n}\n//\n\nsetTimeout(() => {\n  updateVar();\n}, 2500);\nallCardsSection.addEventListener('click', showModal);\n\nasync function updateMoviesList() {\n  if (auth.currentUser === null) {\n    const allMoviesListFromStorage = localStorage.getItem('currentFilmList');\n    const allMoviesList = JSON.parse(allMoviesListFromStorage);\n    return allMoviesList;\n  } else {\n    try {\n      const allMoviesListFromStorage = await currentFilmList(\n        auth.currentUser.uid\n      );\n      const allMoviesList = allMoviesListFromStorage.currentFilmList || [];\n      return allMoviesList;\n    } catch {\n      return [];\n    }\n  }\n}\nexport async function showModal(e) {\n  if (\n    e.target.nodeName === 'IMG' ||\n    e.target.className === 'title-modal-open' ||\n    e.target.className === 'trending-gallery__btn-more'\n  ) {\n    innerModal.innerHTML = '';\n    modal.classList.remove('hidden-movie-modal');\n    overflow.classList.remove('hidden-movie-modal');\n    overflow.classList.add('overflow-height');\n\n    allCardsSection.removeEventListener('click', showModal);\n    document.addEventListener('keydown', closeModalOnEsc);\n    closeBtn.addEventListener('click', closeModal);\n    overflow.addEventListener('click', closeModalOverflow);\n\n    const id =\n      e.target.nodeName === 'IMG'\n        ? e.target.dataset.id\n        : e.target.closest('li').dataset.id;\n    await createModal(id);\n    const top = window.scrollY;\n    body.style.position = 'fixed';\n    body.style.top = `-${top}px`;\n    const watchedBtn = document.querySelector('.modal__btn-watched');\n    const queueBtn = document.querySelector('.modal__btn-queue');\n    const watchTrailerBtn = document.querySelector(\n      '.movie-modal__btn-watch-trailer'\n    );\n    if (auth.currentUser !== null) {\n      watchedBtn.addEventListener('click', handleWatched);\n      queueBtn.addEventListener('click', handleQueued);\n    } else {\n      watchedBtn.setAttribute('disabled', 'disabled');\n      queueBtn.setAttribute('disabled', 'disabled');\n      Notiflix.Notify.info(\n        'Log in and you will have the opportunity to create your own movies library'\n      );\n    }\n    watchTrailerBtn.addEventListener('click', onTrailerBtnClick);\n  }\n}\nfunction closeModalOverflow(e) {\n  if (e.currentTarget === e.target) closeModal();\n}\nfunction closeModalOnEsc(e) {\n  if (e.code === 'Escape') closeModal();\n}\nfunction closeModal() {\n  modal.classList.add('hidden-movie-modal');\n  overflow.classList.add('hidden-movie-modal');\n  overflow.classList.remove('overflow-height');\n  allCardsSection.addEventListener('click', showModal);\n  document.removeEventListener('keydown', closeModal);\n  closeBtn.removeEventListener('click', closeModal);\n  overflow.removeEventListener('click', closeModalOverflow);\n  const top = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(top || '0') * -1);\n}\n\nasync function createModal(id) {\n  if (auth.currentUser === null) {\n    const currentList = updateMoviesList();\n    const rendered = await renderModal(currentList, id, watched, queue);\n    console.log('rendered', rendered);\n    innerModal.innerHTML = rendered;\n  } else {\n    await updateVar();\n    const currentList = await updateMoviesList();\n    const rendered = await renderModal(currentList, id, watched, queue);\n    innerModal.innerHTML = rendered;\n  }\n}\n\nasync function handleWatched(e) {\n  const modalEl = document.querySelector('.movie-modal__main');\n\n  const movie = {\n    poster_path: modalEl.dataset.poster,\n    title: modalEl.dataset.title,\n    genre_ids: modalEl.dataset.genres,\n    release_date: modalEl.dataset.date,\n    vote_average: modalEl.dataset.votes,\n    id: modalEl.dataset.id,\n  };\n\n  const isInWatched = watched.some(film => film.id === movie.id);\n\n  if (e.target.innerText === 'ADD TO WATCHED') {\n    if (!isInWatched) {\n      watched.push(movie);\n      if (auth.currentUser === null) {\n        localStorage.setItem('movieWatched', JSON.stringify(watched));\n        e.target.innerText = 'Remove from watched';\n        const saved = JSON.parse(localStorage.getItem('movieWatched'));\n      } else {\n        await writeUserDataWatch(auth.currentUser.uid, watched);\n        e.target.innerText = 'Remove from watched';\n        const w = await readAllUserData(auth.currentUser.uid);\n        const saved = w.userDataWatch || [];\n      }\n\n      Notiflix.Notify.success('Added to watched!');\n    }\n  } else if (e.target.innerText === 'REMOVE FROM WATCHED') {\n    watched = watched.filter(film => film.id !== movie.id);\n    if (auth.currentUser === null) {\n      localStorage.setItem('movieWatched', JSON.stringify(watched));\n    } else {\n      await writeUserDataWatch(auth.currentUser.uid, watched);\n    }\n    e.target.innerText = 'Add to watched';\n    Notiflix.Notify.success('Removed from watched!');\n  }\n}\nasync function handleQueued(e) {\n  const modalEl = document.querySelector('.movie-modal__main');\n\n  const movie = {\n    poster_path: modalEl.dataset.poster,\n    title: modalEl.dataset.title,\n    genre_ids: modalEl.dataset.genres,\n    release_date: modalEl.dataset.date,\n    vote_average: modalEl.dataset.votes,\n    id: modalEl.dataset.id,\n  };\n\n  const isInQueued = queue.some(film => film.id === movie.id);\n  if (e.target.innerText === 'ADD TO QUEUE') {\n    if (!isInQueued) {\n      queue.push(movie);\n      if (auth.currentUser === null)\n        localStorage.setItem('movieQueue', JSON.stringify(queue));\n      else {\n        await writeUserDataQueue(auth.currentUser.uid, queue);\n      }\n      e.target.innerText = 'Remove from queue';\n\n      Notiflix.Notify.success('Added to queue!');\n    }\n  } else if (e.target.innerText === 'REMOVE FROM QUEUE') {\n    queue = queue.filter(film => film.id !== movie.id);\n    if (auth.currentUser === null) {\n      localStorage.setItem('movieQueue', JSON.stringify(queue));\n    } else {\n      await writeUserDataQueue(auth.currentUser.uid, queue);\n    }\n\n    e.target.innerText = 'Add to queue';\n\n    Notiflix.Notify.success('Removed from queue!');\n  }\n}\n","import makeHMTLString from './film_gallery_template';\nimport { searchRefs, tmdbAPI, scrollToTop, Notify } from './search-refs';\nimport {\n  renderPaginationInterface,\n  paginationSettings,\n  deletePaginationInterface,\n  tooglePagination,\n} from '../trending-search-main/trending-search.js';\n\nimport { userSearchObj } from './search-by-keyword';\nimport { showAdvacedSearchMenu } from './advanced-search.js';\n\n//find movies by year\nsearchRefs.galleryEl.addEventListener('click', findMoviesByYear);\n// export let userYearForPagination = '';\n\nfunction findMoviesByYear(event) {\n  //if not find-by-genre-js link - return\n  if (![...event.target.classList].includes('find-by-year-js')) return;\n\n  if (tooglePagination.isFilmsByYearShown) {\n    Notify.info('Movies of this year are already shown');\n    return;\n  }\n\n  deletePaginationInterface();\n\n  scrollToTop();\n  let year = Number(event.target.innerText);\n  userSearchObj.userQueryForPagination = '';\n  userSearchObj.userYearForPagination = year;\n\n  tmdbAPI.page = 1;\n\n  tmdbAPI\n    .fetchMoviesByYear(year)\n    .then(response => {\n      const { data } = response;\n\n      if (data.total_results === 0) {\n        Notify.failure('Search result not successful.');\n      }\n\n      scrollToTop();\n\n      //form search params window\n      searchRefs.advancedSearchChosenWindowEl.classList.remove(\n        'visually-hidden'\n      );\n      searchRefs.advancedSearchChosenEl.innerHTML = `<div class='advanced-search__chosen-option'><span class='advanced-search__search-key'>primary release year: </span>${year}</div>`;\n\n      showAdvacedSearchMenu();\n      searchRefs.advacedSearchYearInput.value = year;\n      // toggleAdvancedSearch();\n      // searchRefs.advancedSearchWrap.classList.add('hide');\n      // searchRefs.advacedSearchSubmitBtn.classList.add('hide');\n\n      //inserting images into gallery\n      searchRefs.galleryEl.innerHTML = makeHMTLString(data);\n      tooglePagination.isTrendingFilmsShown = false;\n      tooglePagination.isFilmsByQueryShown = false;\n      tooglePagination.isFilmsByGenreShown = false;\n      tooglePagination.isFilmsByAdvancedSearchShown = false;\n      tooglePagination.isFilmsByYearShown = true;\n\n      if (data.total_pages > 500) {\n        paginationSettings.totalPages = 500;\n      } else {\n        paginationSettings.totalPages = data.total_pages;\n      }\n\n      renderPaginationInterface(tmdbAPI.page, paginationSettings.totalPages);\n    })\n    .catch(error => {\n      console.error(error);\n      Notify.failure('No films with such year found!');\n    });\n}\n","import { makeHMTLStringWithGenre } from './film_gallery_template';\nimport {\n  searchRefs,\n  tmdbAPI,\n  TmdbAPI,\n  scrollToTop,\n  Notify,\n} from './search-refs';\nimport {\n  renderPaginationInterface,\n  paginationSettings,\n  deletePaginationInterface,\n  tooglePagination,\n} from '../trending-search-main/trending-search.js';\nimport { CLIENT_RENEG_LIMIT } from 'tls';\nimport { userSearchObj } from './search-by-keyword';\nimport { showAdvacedSearchMenu } from './advanced-search.js';\n\n// export let userGenreForPagination = '';\n\n//find movies by genre\nsearchRefs.galleryEl.addEventListener('click', findMoviesByGenre);\nlet genreID;\nfunction findMoviesByGenre(event) {\n  if (tooglePagination.isFilmsByAdvancedSearchShown) {\n    searchRefs.advancedSearchEl.reset();\n  }\n  if (![...event.target.classList].includes('find-by-genre-js'))\n    //if not find-by-genre-js link - return\n    return;\n\n  let genre = event.target.innerText.trim();\n  if (genre[genre.length - 1] === ',') {\n    genre = genre.slice(0, -1);\n  }\n\n  if (\n    genreID === TmdbAPI.genreIDs[genre.toLowerCase()] &&\n    tooglePagination.isFilmsByGenreShown === true\n  ) {\n    Notify.info('Movies of this genre are already shown');\n    return;\n  }\n\n  genreID = TmdbAPI.genreIDs[genre.toLowerCase()];\n\n  deletePaginationInterface();\n  userSearchObj.userGenreForPagination = genreID;\n  tmdbAPI.page = 1;\n\n  tmdbAPI\n    .fetchMoviesByGenre(`${TmdbAPI.genreIDs[genre.toLowerCase()]}`)\n    .then(response => {\n      const { data } = response;\n\n      if (data.total_results === 0) {\n        Notify.failure('Search result not successful.');\n      }\n      scrollToTop();\n\n      //form search params window\n      searchRefs.advancedSearchChosenWindowEl.classList.remove(\n        'visually-hidden'\n      );\n      searchRefs.advancedSearchChosenEl.innerHTML = `<div class='advanced-search__chosen-option'><span class='advanced-search__search-key'>genre: </span>${genre.toLowerCase()}</div>`;\n      showAdvacedSearchMenu();\n      updateSelectGenreOption(genre);\n\n      //form img gallery\n      searchRefs.galleryEl.innerHTML = makeHMTLStringWithGenre(data, genre);\n      tooglePagination.isTrendingFilmsShown = false;\n      tooglePagination.isFilmsByQueryShown = false;\n      tooglePagination.isFilmsByAdvancedSearchShown = false;\n      tooglePagination.isFilmsByYearShown = false;\n      tooglePagination.isFilmsByGenreShown = true;\n\n      if (data.total_pages > 500) {\n        paginationSettings.totalPages = 500;\n      } else {\n        paginationSettings.totalPages = data.total_pages;\n      }\n      //inserting images into gallery\n\n      renderPaginationInterface(tmdbAPI.page, paginationSettings.totalPages);\n    })\n    .catch(error => {\n      console.error(error);\n      Notify.failure('No films with such genre found!');\n    });\n}\n\nfunction updateSelectGenreOption(genre) {\n  const advacedSearchGenreSelect = document.querySelector(\n    '.advanced-search__genre'\n  );\n  advacedSearchGenreSelect.value = genre;\n  const options = Array.from(advacedSearchGenreSelect.options);\n  const optionToSelect = options.find(\n    item => item.label === genre.toLowerCase()\n  );\n  optionToSelect.selected = true;\n}\n"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$0f3c226193029298$var$_getImages","$parcel$interopDefault","$2TvXO","mark","_callee","data","parcedData","images","imageBaseURL","fetch","concat","$fvDNJ","default","_ctx","sent","json","secure_base_url","profile_sizes","length","console","log","t0","apply","this","arguments","$01aa93abde64b830$export$2d85070453b14455","$01aa93abde64b830$export$d9bc31ce77766999","$01aa93abde64b830$export$e7c5b50100eb905e","$b92ff852f51c28e2$export$d372f2f3c4d1b8e5","$5b9e4ed1be6f0183$export$7cf8d7c091d5409d","$5b9e4ed1be6f0183$export$d10a4a3cd335101","$5b9e4ed1be6f0183$export$a6ba17dbfcb333c9","$5b9e4ed1be6f0183$export$de706ff6dfd2b712","$5b9e4ed1be6f0183$export$be899a9f048399d5","$5b9e4ed1be6f0183$export$e5998c628a6b382d","$5b9e4ed1be6f0183$export$2a61ec80d5ff4bad","$8addd0e0f65d7d3f$export$d9bc31ce77766999","$8addd0e0f65d7d3f$export$e7c5b50100eb905e","$0f3c226193029298$export$2e2bcd8739ae039","start","end","range","i","push","pageNumber","type","ELLIPSIS","key","FIRST_ELLIPSIS","value","isActive","SECOND_ELLIPSIS","options","currentPage","FIRST_PAGE_LINK","PREVIOUS_PAGE_LINK","Math","max","totalPages","NEXT_PAGE_LINK","min","LAST_PAGE_LINK","PAGE","Error","Number","isNaN","boundaryPagesRange","siblingPagesRange","hidePreviousAndNextPageLinks","Boolean","hideFirstAndLastPageLinks","hideEllipsis","ellipsisSize","paginationModel","createPage","allPages","map","firstPagesEnd","firstPages","lastPagesStart","lastPages","mainPagesStart","mainPagesEnd","mainPages","firstEllipsisPageNumber","firstEllipsis","secondEllipsisPageNumber","secondEllipsis","$9HH4g","$829cfa2f769bda79$var$getGenresHTMLString","str","indexOfOther","toLowerCase","indexOf","spliced","slice","split","el","join","$829cfa2f769bda79$var$addAdaptiveImgHTMLString","result","poster","poster_path","IMG_BASE_URL","title","id","$e57174e560006352$exports","$829cfa2f769bda79$export$2e2bcd8739ae039","param","results","textDesc","overview","genres","getGenresString","genre_ids","release_date","$829cfa2f769bda79$export$510d38a54e0c8215","genre","getGenresStringWithSearchedGenre","getBundleURL","resolve","$6JpON","$ad307fb2f3d041d5$export$764f0218feee922f","$ad307fb2f3d041d5$export$5cdaf498760a2f51","fetchGenres","$ad307fb2f3d041d5$export$4f38aa43c8da2f33","galleryEl","document","querySelector","searchInputEl","searchForm","showAdvancedSearchEl","hideAdvancedSearchEl","advancedSearchEl","advancedSearchWrap","advancedSearchChosenWindowEl","advancedSearchChosenEl","resetAdvancedSearchBtn","advacedSearchSubmitBtn","advacedSearchYearInput","$ad307fb2f3d041d5$export$f5d3771428a1f489","window","scroll","top","left","behavior","$171ad088a0d0958b$export$229bacdffc1f4aa2","primary_release_year","with_genres","sort_by","page","with_watch_monetization_types","without_genres","$171ad088a0d0958b$var$areOptionsGenerated","$171ad088a0d0958b$export$32ba60b3131f319a","setTimeout","classList","remove","parentNode","add","$171ad088a0d0958b$var$generateSelectOptions","$171ad088a0d0958b$export$80b9bfb1dba2b87f","toggle","form","genreOptionsHtmlStr","Object","values","selectGenreHtmlStr","excludeGenreHtmlStr","sortParamsStr","keys","sort_by_types","typeKey","insertAdjacentHTML","$171ad088a0d0958b$export$dda3656e53cf0cc0","optionsObj","fetchAdvancedMovieSearch","then","response","innerHTML","$dd1ca3f9c5600137$export$ef57d33f537f2013","isTrendingFilmsShown","isFilmsByQueryShown","isFilmsByAdvancedSearchShown","isFilmsByYearShown","isFilmsByGenreShown","total_pages","$dd1ca3f9c5600137$export$b0e697a4712aa77","$dd1ca3f9c5600137$export$dfec3028c0eb762c","catch","error","$171ad088a0d0958b$var$clearAdvancedSearchForm","reset","$171ad088a0d0958b$export$fcde629ab6c1a3a2","$171ad088a0d0958b$var$_onResetAdvancedSearch","$dd1ca3f9c5600137$export$2e2bcd8739ae039","addEventListener","event","target","includes","$171ad088a0d0958b$export$270d262c8e6455ad","preventDefault","genreIDs","excludeGenre","sortParams","watch_monetization_types","monetization","year","forEach","undefined","test","$171ad088a0d0958b$var$isOptionsObjHasValues","Notify","failure","searchYear","parseInt","Date","getFullYear","$171ad088a0d0958b$var$checkYear","isTheSameSettings","warning","$dd1ca3f9c5600137$export$78f92611eb91c9fe","info","obj","reduce","acc","$171ad088a0d0958b$var$chosenAdvSearchParamsString","onResetAdvancedSearch","$68602325bf90d5f4$export$71a81439eef1b333","userQueryForPagination","userYearForPagination","userGenreForPagination","$68602325bf90d5f4$var$_onSearchInputElChange","query","fetchFilmsByQuery","total_results","hidePreviousAndNextPagebtns","hideFirstAndLastPagebtns","$dd1ca3f9c5600137$var$screen","matchMedia","$dd1ca3f9c5600137$var$setPaginationSettings","matches","$dd1ca3f9c5600137$var$cardList","$dd1ca3f9c5600137$var$createMarkup","$dd1ca3f9c5600137$var$_createMarkup","genreNames","markup","item","genresNamesToRender","$dd1ca3f9c5600137$var$getGenreDeciphered","filmObject","genresList","$dd1ca3f9c5600137$var$renderPopularFilms","$dd1ca3f9c5600137$var$_renderPopularFilms","films","$gx8jD","spinnerStart","$yUIZd","dir","spinnerStop","$ikGeD","refs","paginationContainer","removeEventListener","$dd1ca3f9c5600137$var$onLoadAnotherPage","filmsPaginationContainer","btnsMarkup","$01aa93abde64b830$exports","getPaginationModel","$dd1ca3f9c5600137$var$createBtn","$dd1ca3f9c5600137$var$createPaginationInterface","e","$dd1ca3f9c5600137$var$_onLoadAnotherPage","clickedBtn","indexOfPageToLoad","response1","data1","response2","data2","nodeName","dataset","fetchMoviesByYear","fetchMoviesByGenre","btnType","modifier","$dd1ca3f9c5600137$var$createIconBtnTemplate","disabled","$dd1ca3f9c5600137$var$createDigitBtnTemplate","isMobile","$81c4e261089b324a$var$queue","$81c4e261089b324a$var$watched","$81c4e261089b324a$var$allCardsSection","allCardsSection","$81c4e261089b324a$var$modal","modal","$81c4e261089b324a$var$overflow","overflow","$81c4e261089b324a$var$closeBtn","closeBtn","$81c4e261089b324a$var$innerModal","innerModal","$81c4e261089b324a$var$body","body","$81c4e261089b324a$var$updateVar","$81c4e261089b324a$var$_updateVar","q","w","$04TGm","auth","currentUser","readAllUserData","uid","userDataQueue","userDataWatch","$81c4e261089b324a$var$updateMoviesList","$81c4e261089b324a$var$_updateMoviesList","allMoviesListFromStorage","allMoviesList","allMoviesListFromStorage1","allMoviesList1","localStorage","getItem","currentFilmList","$81c4e261089b324a$export$d7e8d4d4450c819c","$81c4e261089b324a$var$_showModal","watchedBtn","queueBtn","watchTrailerBtn","className","$81c4e261089b324a$var$closeModalOnEsc","$81c4e261089b324a$var$closeModal","$81c4e261089b324a$var$closeModalOverflow","closest","$81c4e261089b324a$var$createModal","scrollY","style","position","$81c4e261089b324a$var$handleWatched","$81c4e261089b324a$var$handleQueued","setAttribute","$8wJK5","onTrailerBtnClick","currentTarget","code","scrollTo","$81c4e261089b324a$var$_createModal","currentList","rendered","currentList1","rendered1","$eONm9","renderModal","$81c4e261089b324a$var$_handleWatched","modalEl","movie","isInWatched","date","vote_average","votes","some","film","innerText","setItem","stringify","writeUserDataWatch","success","filter","$81c4e261089b324a$var$_handleQueued","isInQueued","writeUserDataQueue","$8nrFW","$23dd2545d0d00c99$var$genreID","trim","advacedSearchGenreSelect","Array","from","find","label","selected","$23dd2545d0d00c99$var$updateSelectGenreOption"],"version":3,"file":"index.d65230ed.js.map"}